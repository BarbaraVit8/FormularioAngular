<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <title>MeuPrimeiroProjetoAngular</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.15/jquery.mask.min.js"></script>
  
  <style>
    body{
      background-color: rgb(208, 242, 251);
      font-family: 'Times New Roman', Times, serif;
      display: auto;
      margin-left: 50px;
      margin-right: 50px;
      margin-top: 50px;
    }
    h1{
      color:rgb(0, 24, 129);      
    }
    h3{
      margin-bottom: 0cap;
    }
    h6{     
      color: rgb(86, 85, 85);
      margin-top: 0;
    }
  </style>

</head>

  <body>  
    <center>
      <h1>Formulário Angular</h1>
    </center>
      <h2>Preencha seus dados abaixo.</h2> 
            <p>
                <div class="form-group"></div>
                  <label for="name">Nome Completo:</label>
                  <input type="text" id="name" formControlName="name" required>
                </div>
            </p>
            <p>
                <div class="form-group">
                  <label for="data">Data de Nascimento:</label>
                  <input type="date" id="data" formControlName="data" required>
                </div>
            </p>
                <div class="form-group">
                  <label for="cpf">CPF:</label>
                  <input type="text" id="cpf" formControlName="cpf" required maxlength="11" >
                </div>
            <p>
                <div class="form-group">
                  <label for="email">Email:</label>
                  <input type="email" id="email" formControlName="email" required>
                </div>
            </p>
            <p>
                <div class="form-group">
                  <label for="telefone">Telefone:</label>
                  <input type="tel" id="telefone" formControlName="telefone" required maxlength="11">
                </div>
            </p>
            <p>
                <div class="form-group">
                  <label for="cep">CEP:</label>
                  <input type="text" id="cep" formControlName="cep" required maxlength="8" required onblur="buscaEndereco()" placeholder ="Digite o CEP sem o traço">
                </div>
            </p>
            <h3>Endereço Completo:</h3>
            <h6>Clique em qualquer lugar da tela para aparecer o endereço.</h6>
                <div class="address" id="endereco">
                  <p id="logradouro"></p>
                  <p id="bairro"></p>
                  <p id="localidade"></p>
                  <p id="uf"></p>
                </div>  
                         
          <script>
            $(document).ready(function() {
              $('#cpf').mask('999.999.999-99');      
              $('#telefone').mask('(99)99999-9999');
            });
          </script>
        <script>
          function buscaEndereco() {
            const cep = document.getElementById('cep').value;
            const url = `https://viacep.com.br/ws/${cep}/json/`;

            fetch(url)
              .then(response => response.json())
              .then(data => {
                if (data.erro) {
                  alert('CEP não encontrado!');
                  return;
                }
                document.getElementById('logradouro').textContent = data.logradouro;
                document.getElementById('bairro').textContent = data.bairro;
                document.getElementById('localidade').textContent = data.localidade;
                document.getElementById('uf').textContent = data.uf;
              });
          }     
        </script>
    </body>

</html>